{"ast":null,"code":"var _jsxFileName = \"/home/forestpe/IT/Projects/React/womanupTT/src/components/app/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport AppInfo from '../appInfo/AppInfo';\nimport TasksList from '../tasksList/TasksList';\nimport WorkSpace from '../workSpace/WorkSpace';\nimport 'antd/dist/reset.css';\nimport './app.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = props => {\n  _s();\n\n  const [data, setData] = useState([{\n    name: \"Подумать о важном\",\n    descr: 'кто я? а чего я хочу?',\n    date: new Date(2022, 2, 16).toLocaleDateString(),\n    check: true,\n    star: false,\n    id: 1\n  }, {\n    name: \"Побывать в горах Индии\",\n    descr: 'понять кто я и чего я хочу',\n    date: new Date(2023, 11, 16).toLocaleDateString(),\n    check: false,\n    star: false,\n    id: 2\n  }, {\n    name: \"Нанять Петю на работу\",\n    descr: 'ну точно нельзя проходить мимо этого парня',\n    date: new Date(2022, 11, 20).toLocaleDateString(),\n    check: false,\n    star: true,\n    id: 3\n  }]);\n  const [term, setTerm] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [maxId, setMaxId] = useState(4);\n  const [item, setItem] = useState(''); // useEffect(() => {\n  //     console.log('deleted')\n  //     editItem(item.id)\n  //     deleteItem(item.id)\n  // }, [item])\n\n  useEffect(() => {}, [item]);\n\n  function deleteItem(id) {\n    setMaxId(maxId - 1);\n    return setData(data.filter(item => item.id !== id));\n  }\n\n  function editItem(id) {\n    console.log(id);\n    data.map(item => {\n      if (item.id === id) {\n        setItem(item);\n      }\n    });\n  }\n\n  function addItem(name, descr, id) {\n    setMaxId(maxId + 1);\n    const newItem = {\n      name: name,\n      descr: descr,\n      date: new Date().toLocaleDateString(),\n      check: false,\n      star: false,\n      id: id ? id : maxId\n    };\n    const newArr = [...data, newItem];\n    return setData(newArr);\n  }\n\n  function onToggleProp(id, prop) {\n    setData(data.map(item => {\n      if (item.id === id) {\n        return { ...item,\n          [prop]: !item[prop]\n        };\n      }\n\n      return item;\n    }));\n  }\n\n  function searchTask(items, term) {\n    if (term.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.name.toLowerCase().indexOf(term) > -1;\n    });\n  }\n\n  function onUpdateSearchs(term) {\n    setTerm(term);\n  }\n\n  function filterPost(items, filter) {\n    switch (filter) {\n      case 'star':\n        return items.filter(item => item.star);\n\n      case 'check':\n        return items.filter(item => item.check);\n\n      default:\n        return items;\n    }\n  }\n\n  function onFilterSelect(filter) {\n    setFilter(filter);\n  }\n\n  const tasks = data.length;\n  const check = data.filter(item => item.check).length;\n  const visibleData = filterPost(searchTask(data, term), filter);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(AppInfo, {\n      tasks: tasks,\n      check: check\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TasksList, {\n      data: visibleData,\n      onDelete: deleteItem,\n      onToggleProp: onToggleProp,\n      onUpdateSearchs: onUpdateSearchs,\n      onFilterSelect: onFilterSelect,\n      filter: filter,\n      editItem: editItem,\n      onAdd: addItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), item ? /*#__PURE__*/_jsxDEV(WorkSpace, {\n      data: data,\n      item: item,\n      setItem: setItem,\n      onAdd: addItem,\n      deleteItem: deleteItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"kBnYmM2pCDWxd6ENbmFrNlaOuAU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","AppInfo","TasksList","WorkSpace","App","props","data","setData","name","descr","date","Date","toLocaleDateString","check","star","id","term","setTerm","filter","setFilter","maxId","setMaxId","item","setItem","deleteItem","editItem","console","log","map","addItem","newItem","newArr","onToggleProp","prop","searchTask","items","length","toLowerCase","indexOf","onUpdateSearchs","filterPost","onFilterSelect","tasks","visibleData"],"sources":["/home/forestpe/IT/Projects/React/womanupTT/src/components/app/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nimport AppInfo from '../appInfo/AppInfo';\nimport TasksList from '../tasksList/TasksList';\nimport WorkSpace from '../workSpace/WorkSpace';\n\n\n\nimport 'antd/dist/reset.css';\n\nimport './app.scss';\n\nconst App = (props) => {\n\n    const [data, setData] = useState([\n        {name: \"Подумать о важном\", descr: 'кто я? а чего я хочу?', date: new Date(2022, 2, 16).toLocaleDateString(), check: true, star: false, id: 1},\n        {name: \"Побывать в горах Индии\", descr: 'понять кто я и чего я хочу', date: new Date(2023, 11, 16).toLocaleDateString(), check: false, star: false, id: 2},\n        {name: \"Нанять Петю на работу\", descr: 'ну точно нельзя проходить мимо этого парня', date: new Date(2022, 11, 20).toLocaleDateString(), check: false, star: true, id: 3}\n    ]);\n\n    const [term, setTerm] = useState('');   \n    const [filter, setFilter] = useState('all');\n    const [maxId, setMaxId] = useState(4);\n    const [item, setItem] = useState('');\n\n    // useEffect(() => {\n    //     console.log('deleted')\n    //     editItem(item.id)\n    //     deleteItem(item.id)\n    // }, [item])\n\n    useEffect(() => {\n\n    },[item])\n\n\n    function deleteItem(id) {\n        setMaxId(maxId - 1);\n        return setData(data.filter(item => item.id !== id))\n    }\n\n    function editItem(id) {\n        console.log(id)\n        data.map(item => {\n            if (item.id === id) {\n                setItem(item);\n            }    \n        })\n    }\n\n\n    function addItem(name, descr, id) {\n        setMaxId(maxId + 1);\n        const newItem = {\n            name: name,\n            descr: descr,\n            date: new Date().toLocaleDateString(), \n            check: false,\n            star: false,\n            id: id ? id : maxId\n        }\n\n        const newArr = [...data, newItem];\n\n        return setData(newArr);\n        \n    }\n\n    function onToggleProp(id, prop) {\n        setData(\n            data.map(item => {\n                if (item.id === id) {\n                    return {...item, [prop]: !item[prop]}\n                }\n                return item;\n            })\n        )\n    }\n\n    function searchTask(items, term) {\n        if (term.length === 0) {\n            return items;\n        }\n\n        return items.filter(item => {\n            return item.name.toLowerCase().indexOf(term) > -1\n        })\n    }\n\n    function onUpdateSearchs(term) {\n        setTerm(term);\n    }\n\n    function filterPost(items, filter) {\n        switch (filter) {\n            case 'star':\n                return items.filter(item => item.star);\n            case 'check':\n                return items.filter(item => item.check);\n            default:\n                return items\n        }\n    }\n\n    function onFilterSelect(filter) {\n        setFilter(filter);    \n    }\n\n    const tasks = data.length;\n    const check = data.filter(item => item.check).length;\n    const visibleData = filterPost(searchTask(data, term), filter);\n    \n\n    return(\n        <div className=\"app\">\n            <AppInfo\n                tasks={tasks}\n                check={check}\n            />\n\n            <TasksList \n                data={visibleData}\n                onDelete={deleteItem}\n                onToggleProp={onToggleProp}\n                onUpdateSearchs={onUpdateSearchs}\n                onFilterSelect={onFilterSelect}\n                filter={filter}\n                editItem={editItem}\n                onAdd={addItem}\n            />\n\n            {item ? <WorkSpace\n                        data={data} \n                        item={item}\n                        setItem={setItem} \n                        onAdd={addItem} \n                        deleteItem={deleteItem}/> : null}\n\n        </div>\n    );\n\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}